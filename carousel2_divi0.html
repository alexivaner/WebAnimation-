<script type="text/javascript">
  // var number = [testimonial_count]-1;

  // var number = 10 - 1;
  var animation_timing = 4*3;
  var carousel_items = 4;
  var animation_delay_fraction = animation_timing / carousel_items;
  var animation_steps_fraction = 100 / carousel_items;
  var slide_change_timing = 3;
  var styles = `
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }



  .wrapper {
    /* background: linear-gradient(60deg, #420285, #08BDBD); */
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
  }

  .carousel {
    position: relative;
    width: 100%;
    max-width: 500px;
    display: flex;
    justify-content: center;
    flex-direction: column;
  }

  .carousel__item {
    display: flex;
    align-items: center;
    position: absolute;
    width: 100%;
    padding: 0 12px;
    opacity: 0;
    filter: drop-shadow(0 10px 10px #A3AAAF);
    will-change: transform, opacity;
    -webkit-animation: carousel-animate-vertical ${animation_timing}s linear infinite;
    animation: carousel-animate-vertical ${animation_timing}s linear infinite;
  }`


  if (carousel_items) {
    for (var i = 1; i < carousel_items; i++) {
      styles += `  .carousel__item:nth-child(${i}) {
          -webkit-animation-delay: ${animation_delay_fraction*(i-2)}s;
          animation-delay: ${animation_delay_fraction*(i-2)}s;
        }`
    }
  }


  styles += `
  .carousel__item:last-child {
      -webkit-animation-delay: calc(-${animation_delay_fraction}s * 2);
      animation-delay: calc(-${animation_delay_fraction}s * 2);
    }

    .carousel__item-head img {
      border-radius: 50%;
      padding: 2px;
      position: relative;
      margin-right: -45px;
      flex-shrink: 0;
      display: flex;
      align-items: left;
      justify-content: left;
      font-size: 50px;
    }

    .carousel__item-body {
      width: 100%;
      background-color: #fff;
      border-radius: 8px;
      padding: 16px 20px 16px 70px;
      font-family: 'Poppins', Helvetica, Arial, Lucida, sans-serif;
      font-weight: 400;
      font-size:12px;
    }

    .title {
      text-transform: uppercase;
      font-size: 20px;
      margin-top: 10px;
      font-family: 'Poppins', Helvetica, Arial, Lucida, sans-serif;
      font-weight: 400;
    }

    @-webkit-keyframes carousel-animate-vertical {
      0% {
        transform: translateY(100%) scale(0.5);
        opacity: 0;
        visibility: hidden;
      }

      ${slide_change_timing}%,
      ${animation_steps_fraction}% {
        transform: translateY(100%) scale(0.7);
        opacity: 0.4;
        visibility: visible;
      }

      ${animation_steps_fraction+slide_change_timing}%,
      ${animation_steps_fraction*2}% {
        transform: translateY(0) scale(1);
        opacity: 1;
        visibility: visible;
      }

      ${(animation_steps_fraction*2)+slide_change_timing}%,
      ${animation_steps_fraction*3}% {
        transform: translateY(-100%) scale(0.7);
        opacity: 0.4;
        visibility: visible;
      }

      ${(animation_steps_fraction*3)+slide_change_timing}% {
        transform: translateY(-100%) scale(0.5);
        opacity: 0;
        visibility: visible;
      }

      100% {
        transform: translateY(-100%) scale(0.5);
        opacity: 0;
        visibility: hidden;
      }
    }

    @keyframes carousel-animate-vertical {
      0% {
        transform: translateY(100%) scale(0.5);
        opacity: 0;
        visibility: hidden;
      }

      ${slide_change_timing}%,
      ${animation_steps_fraction}% {
        transform: translateY(100%) scale(0.7);
        opacity: 0.4;
        visibility: visible;
      }

      ${animation_steps_fraction+slide_change_timing}%,
      ${animation_steps_fraction*2}% {
        transform: translateY(0) scale(1);
        opacity: 1;
        visibility: visible;
      }

      ${(animation_steps_fraction*2)+slide_change_timing}%,
      ${animation_steps_fraction*3}% {
        transform: translateY(-100%) scale(0.7);
        opacity: 0.4;
        visibility: visible;
      }

      ${(animation_steps_fraction*3)+slide_change_timing}% {
        transform: translateY(-100%) scale(0.5);
        opacity: 0;
        visibility: visible;
      }

      100% {
        transform: translateY(-100%) scale(0.5);
        opacity: 0;
        visibility: hidden;
      }
    }
    }`



  var styleSheet = document.createElement("style")
  styleSheet.type = "text/css"
  styleSheet.innerText = styles
  document.head.appendChild(styleSheet)
</script>
<!-- [testimonial_view id="1"] -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<div class="strong-view strong-view-id-1 simple wpmtst-simple" data-count="2">
  <div class="strong-content strong-normal columns-1">
    <div class="wpmtst-testimonial testimonial post-403">
      <div class="wpmtst-testimonial-inner testimonial-inner">
        <h3 class="wpmtst-testimonial-heading testimonial-heading">Testimonial Test</h3>
        <div class="wpmtst-testimonial-content testimonial-content">
          <div class="wpmtst-testimonial-image testimonial-image"><img width="150" height="150" src="https://kirmizhi.com/wp-content/uploads/2021/10/makeup-artist-62-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt=""
              loading="lazy"></div>
          <div class="maybe-clear"></div>
          <p>Lorep Ipsumm this is a testimonial</p>
        </div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-name">Ivan Surya Hutomo</div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-company"><a href="http://ivansuryahutomo.com" target="_blank" rel="nofollow noopener noreferrer">Vanz Production</a></div>
        <div class="clear"></div>
      </div>
    </div>
    <div class="wpmtst-testimonial testimonial post-412">
      <div class="wpmtst-testimonial-inner testimonial-inner">
        <h3 class="wpmtst-testimonial-heading testimonial-heading">Laurentius</h3>
        <div class="wpmtst-testimonial-content testimonial-content">
          <div class="wpmtst-testimonial-image testimonial-image"><img width="150" height="150" src="https://kirmizhi.com/wp-content/uploads/2021/10/brewery-09-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt=""
              loading="lazy"></div>
          <div class="maybe-clear"></div>
          <p>Kirmizhi is the Best</p>
        </div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-name">Laurentius</div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-company"><a href="http://Laurentius" target="_blank" rel="nofollow noopener noreferrer">Laurentius</a></div>
        <div class="clear"></div>
      </div>
    </div>
    <div class="wpmtst-testimonial testimonial post-412">
      <div class="wpmtst-testimonial-inner testimonial-inner">
        <h3 class="wpmtst-testimonial-heading testimonial-heading">Laurentius</h3>
        <div class="wpmtst-testimonial-content testimonial-content">
          <div class="wpmtst-testimonial-image testimonial-image"><img width="150" height="150" src="https://kirmizhi.com/wp-content/uploads/2021/10/brewery-09-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt=""
              loading="lazy"></div>
          <div class="maybe-clear"></div>
          <p>Kirmizhi is the Best</p>
        </div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-name">Laurentius</div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-company"><a href="http://Laurentius" target="_blank" rel="nofollow noopener noreferrer">Laurentius</a></div>
        <div class="clear"></div>
      </div>
    </div>
    <div class="wpmtst-testimonial testimonial post-412">
      <div class="wpmtst-testimonial-inner testimonial-inner">
        <h3 class="wpmtst-testimonial-heading testimonial-heading">Laurentius</h3>
        <div class="wpmtst-testimonial-content testimonial-content">
          <div class="wpmtst-testimonial-image testimonial-image"><img width="150" height="150" src="https://kirmizhi.com/wp-content/uploads/2021/10/brewery-09-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt=""
              loading="lazy"></div>
          <div class="maybe-clear"></div>
          <p>Kirmizhi is the Best</p>
        </div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-name">Laurentius</div>
        <div class="wpmtst-testimonial-field testimonial-field testimonial-company"><a href="http://Laurentius" target="_blank" rel="nofollow noopener noreferrer">Laurentius</a></div>
        <div class="clear"></div>
      </div>
    </div>
  </div>
</div>
[testimonial_view id="1"]

<div class='wrapper'>
  <div class='carousel'>
  </div>
</div>


<script type="text/javascript">
  var delayInMilliseconds = 1000; //1 second
  // var testimonial_header = $(".testimonial-heading");
  var testimonial_image = $(".testimonial-image");
  var testimonial_content = $(".testimonial-content").find('p');
  // var testimonial_name = $(".testimonial-name");
  var testimonial_company = $(".testimonial-company");

  $(document).ready(function() {
    $('.strong-view').remove();
  });

  function doWork() {
    // var number = 2;
    var number = 4;

    if (number) {
      for (var i = 0; i < number; i++) {

        $('.carousel').append(`
         <div class='carousel__item'>
                <div class='carousel__item-head'>
                  ${testimonial_image[i].innerHTML}
                </div>
                <div class='carousel__item-body'>
                  <p class='title'>${testimonial_company[i].innerHTML}</p>
                  <p>${testimonial_content[i].innerText}</p>
                </div>
              </div>`)
      }
    }
  };
  setTimeout(function() {
    //your code to be executed after 1 second
    doWork();
  }, delayInMilliseconds);
</script>
